var Fe=Object.create;var U=Object.defineProperty;var he=Object.getOwnPropertyDescriptor;var ve=Object.getOwnPropertyNames;var Ce=Object.getPrototypeOf,ke=Object.prototype.hasOwnProperty;var be=(r,s)=>{for(var n in s)U(r,n,{get:s[n],enumerable:!0})},X=(r,s,n,u)=>{if(s&&typeof s=="object"||typeof s=="function")for(let a of ve(s))!ke.call(r,a)&&a!==n&&U(r,a,{get:()=>s[a],enumerable:!(u=he(s,a))||u.enumerable});return r};var Y=(r,s,n)=>(n=r!=null?Fe(Ce(r)):{},X(s||!r||!r.__esModule?U(n,"default",{value:r,enumerable:!0}):n,r)),xe=r=>X(U({},"__esModule",{value:!0}),r);var Ae={};be(Ae,{Head:()=>ae,Link:()=>ie,createInertiaApp:()=>q,router:()=>Ie,useForm:()=>z,usePage:()=>G,useRemember:()=>A});module.exports=xe(Ae);var ce=require("@inertiajs/core");var oe=require("@inertiajs/core"),ne=require("react");var B=require("@inertiajs/core"),F=require("react");var Z=require("react"),ee=(0,Z.createContext)(void 0);ee.displayName="InertiaHeadContext";var O=ee;var te=require("react"),re=(0,te.createContext)(void 0);re.displayName="InertiaPageContext";var L=re;function V({children:r,initialPage:s,initialComponent:n,resolveComponent:u,titleCallback:a,onHeadUpdate:h}){let[f,P]=(0,F.useState)({component:n||null,page:s,key:null}),l=(0,F.useMemo)(()=>(0,B.createHeadManager)(typeof window>"u",a||(d=>d),h||(()=>{})),[]);if((0,F.useEffect)(()=>{B.router.init({initialPage:s,resolveComponent:u,swapComponent:async({component:d,page:e,preserveState:c})=>{P(o=>({component:d,page:e,key:c?o.key:Date.now()}))}}),B.router.on("navigate",()=>l.forceUpdate())},[]),!f.component)return(0,F.createElement)(O.Provider,{value:l},(0,F.createElement)(L.Provider,{value:f.page},null));let m=r||(({Component:d,props:e,key:c})=>{let o=(0,F.createElement)(d,{key:c,...e});return typeof d.layout=="function"?d.layout(o):Array.isArray(d.layout)?d.layout.concat(o).reverse().reduce((y,S)=>(0,F.createElement)(S,{children:y,...e})):o});return(0,F.createElement)(O.Provider,{value:l},(0,F.createElement)(L.Provider,{value:f.page},m({Component:f.component,key:f.key,props:f.page.props})))}V.displayName="Inertia";async function q({id:r="app",resolve:s,setup:n,title:u,progress:a={},page:h,render:f}){let P=typeof window>"u",l=P?null:document.getElementById(r),m=h||JSON.parse(l.dataset.page),d=o=>Promise.resolve(s(o)).then(y=>y.default||y),e=[],c=await d(m.component).then(o=>n({el:l,App:V,props:{initialPage:m,initialComponent:o,resolveComponent:d,titleCallback:u,onHeadUpdate:P?y=>e=y:null}}));if(!P&&a&&(0,oe.setupProgress)(a),P){let o=await f((0,ne.createElement)("div",{id:r,"data-page":JSON.stringify(m)},c));return{head:e,body:o}}}var k=Y(require("react"),1);var Re=function({children:r,title:s}){let n=(0,k.useContext)(O),u=(0,k.useMemo)(()=>n.createProvider(),[n]);(0,k.useEffect)(()=>()=>{u.disconnect()},[u]);function a(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1}function h(e){let c=Object.keys(e.props).reduce((o,y)=>{if(["head-key","children","dangerouslySetInnerHTML"].includes(y))return o;let S=e.props[y];return S===""?o+` ${y}`:o+` ${y}="${S}"`},"");return`<${e.type}${c}>`}function f(e){return typeof e.props.children=="string"?e.props.children:e.props.children.reduce((c,o)=>c+P(o),"")}function P(e){let c=h(e);return e.props.children&&(c+=f(e)),e.props.dangerouslySetInnerHTML&&(c+=e.props.dangerouslySetInnerHTML.__html),a(e)||(c+=`</${e.type}>`),c}function l(e){return k.default.cloneElement(e,{inertia:e.props["head-key"]!==void 0?e.props["head-key"]:""})}function m(e){return P(l(e))}function d(e){let c=k.default.Children.toArray(e).filter(o=>o).map(o=>m(o));return s&&!c.find(o=>o.startsWith("<title"))&&c.push(`<title inertia>${s}</title>`),c}return u.update(d(r)),null},ae=Re;var R=require("@inertiajs/core"),I=require("react"),b=()=>{},se=(0,I.forwardRef)(({children:r,as:s="a",data:n={},href:u,method:a="get",preserveScroll:h=!1,preserveState:f=null,replace:P=!1,only:l=[],except:m=[],headers:d={},queryStringArrayFormat:e="brackets",onClick:c=b,onCancelToken:o=b,onBefore:y=b,onStart:S=b,onProgress:N=b,onFinish:x=b,onCancel:$=b,onSuccess:E=b,onError:j=b,...D},M)=>{let C=(0,I.useCallback)(H=>{c(H),(0,R.shouldIntercept)(H)&&(H.preventDefault(),R.router.visit(u,{data:n,method:a,preserveScroll:h,preserveState:f??a!=="get",replace:P,only:l,except:m,headers:d,onCancelToken:o,onBefore:y,onStart:S,onProgress:N,onFinish:x,onCancel:$,onSuccess:E,onError:j}))},[n,u,a,h,f,P,l,m,d,c,o,y,S,N,x,$,E,j]);s=s.toLowerCase(),a=a.toLowerCase();let[_,W]=(0,R.mergeDataIntoQueryString)(a,u||"",n,e);return u=_,n=W,s==="a"&&a!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${u}" method="${a}" as="button">...</Link>`),(0,I.createElement)(s,{...D,...s==="a"?{href:u}:{},ref:M,onClick:C},r)});se.displayName="InertiaLink";var ie=se;var Q=require("@inertiajs/core"),pe=Y(require("lodash.isequal"),1),i=require("react");var J=require("@inertiajs/core"),K=require("react");function A(r,s){let[n,u]=(0,K.useState)(()=>{let a=J.router.restore(s);return a!==void 0?a:r});return(0,K.useEffect)(()=>{J.router.remember(n,s)},[n,s]),[n,u]}function z(r,s){let n=(0,i.useRef)(null),u=typeof r=="string"?r:null,[a,h]=(0,i.useState)((typeof r=="string"?s:r)||{}),f=(0,i.useRef)(null),P=(0,i.useRef)(null),[l,m]=u?A(a,`${u}:data`):(0,i.useState)(a),[d,e]=u?A({},`${u}:errors`):(0,i.useState)({}),[c,o]=(0,i.useState)(!1),[y,S]=(0,i.useState)(!1),[N,x]=(0,i.useState)(null),[$,E]=(0,i.useState)(!1),[j,D]=(0,i.useState)(!1),M=(0,i.useRef)(p=>p);(0,i.useEffect)(()=>(n.current=!0,()=>{n.current=!1}),[]);let C=(0,i.useCallback)((p,T,t={})=>{let v={...t,onCancelToken:g=>{if(f.current=g,t.onCancelToken)return t.onCancelToken(g)},onBefore:g=>{if(E(!1),D(!1),clearTimeout(P.current),t.onBefore)return t.onBefore(g)},onStart:g=>{if(S(!0),t.onStart)return t.onStart(g)},onProgress:g=>{if(x(g),t.onProgress)return t.onProgress(g)},onSuccess:g=>{if(n.current&&(S(!1),x(null),e({}),o(!1),E(!0),D(!0),P.current=setTimeout(()=>{n.current&&D(!1)},2e3)),t.onSuccess)return t.onSuccess(g)},onError:g=>{if(n.current&&(S(!1),x(null),e(g),o(!0)),t.onError)return t.onError(g)},onCancel:()=>{if(n.current&&(S(!1),x(null)),t.onCancel)return t.onCancel()},onFinish:()=>{if(n.current&&(S(!1),x(null)),f.current=null,t.onFinish)return t.onFinish()}};p==="delete"?Q.router.delete(T,{...v,data:M.current(l)}):Q.router[p](T,M.current(l),v)},[l,e]),_=(0,i.useCallback)((p,T)=>{m(typeof p=="string"?t=>({...t,[p]:T}):typeof p=="function"?t=>p(t):p)},[m]),W=(0,i.useCallback)((p,T)=>{h(typeof p>"u"?()=>l:t=>({...t,...typeof p=="string"?{[p]:T}:p}))},[l,h]),H=(0,i.useCallback)((...p)=>{p.length===0?m(a):m(T=>Object.keys(a).filter(t=>p.includes(t)).reduce((t,v)=>(t[v]=a[v],t),{...T}))},[m,a]),le=(0,i.useCallback)((p,T)=>{e(t=>{let v={...t,...typeof p=="string"?{[p]:T}:p};return o(Object.keys(v).length>0),v})},[e,o]),de=(0,i.useCallback)((...p)=>{e(T=>{let t=Object.keys(T).reduce((v,g)=>({...v,...p.length>0&&!p.includes(g)?{[g]:T[g]}:{}}),{});return o(Object.keys(t).length>0),t})},[e,o]),w=p=>(T,t)=>{C(p,T,t)},fe=(0,i.useCallback)(w("get"),[C]),me=(0,i.useCallback)(w("post"),[C]),ge=(0,i.useCallback)(w("put"),[C]),ye=(0,i.useCallback)(w("patch"),[C]),Pe=(0,i.useCallback)(w("delete"),[C]),Te=(0,i.useCallback)(()=>{f.current&&f.current.cancel()},[]),Se=(0,i.useCallback)(p=>{M.current=p},[]);return{data:l,setData:_,isDirty:!(0,pe.default)(l,a),errors:d,hasErrors:c,processing:y,progress:N,wasSuccessful:$,recentlySuccessful:j,transform:Se,setDefaults:W,reset:H,setError:le,clearErrors:de,submit:C,get:fe,post:me,put:ge,patch:ye,delete:Pe,cancel:Te}}var ue=require("react");function G(){let r=(0,ue.useContext)(L);if(!r)throw new Error("usePage must be used within the Inertia component");return r}var Ie=ce.router;
//# sourceMappingURL=index.js.map
